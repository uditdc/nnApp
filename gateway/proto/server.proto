syntax = "proto3";

option go_package = "github.com/uditdc/nnApp/gateway";

package gateway;

service Gateway {
  rpc Install (InstallRequest) returns (InstallResponse) {}
  rpc Invoke (InvokeRequest) returns (InvokeResponse) {}
}

message InstallRequest {
  string cid = 1;
  string uri = 2;
}

message InstallResponse {

}

message InvokeRequest {
  string functionId = 1;
  string method = 2;
  string callData = 3;
}

message InvokeResponse {
  string code = 1;
  string requestId = 2;
  map<string, InvokeResult> result = 3;
}

message InvokeResult {
  string code = 1;
  InvokeRuntimeOutput result = 2;
  string request_id = 3;
  InvokeUsage usage = 4;
}

message InvokeRuntimeOutput {
  string stdout = 1;
  string stderr = 2;
  int32 exit_code = 3;
}

message InvokeUsage {

}